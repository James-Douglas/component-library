import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, boolean, number, select, array, object } from '@storybook/addon-knobs';
import Dropdown from '../../components/Dropdown/Dropdown.component';
import fieldValidation from './flag.png';
import FluidContainer from '../../components/Grid/Container/FluidContainer.component';
import Row from '../../components/Grid/Row/Row.component';
import Column from '../../components/Grid/Column/Column.component';

<Meta title="Components|Dropdown" component={Dropdown} />

# Dropdown

The CTM Dropdown component, which is essentially a styled HTML select and it's child options - does not support multi
select (another component will handle multi select).

<Preview>
  <Story name="dropdown">
    {() => {
      const options = [
        { value: '', title: 'Default Item - Title'},
        { value: 'First', title: 'First Item - Title'},
        { value: 'Second', title: 'Second Item - Title', selected: true},
        { value: 'Third', title: 'Third Item - Title', disabled: true }
      ];
      return (
        <FluidContainer>
          <Row>
            <Column>
               <Dropdown
               id="input-one"
               options={options}
               supportingElements
               label="Dropdown Label"
             />
          </Column>
        </Row>
      </FluidContainer>
      );
    }}
  </Story>
</Preview>

## Dropdown with Prefix

The CTM Dropdown component, which is essentially a styled HTML select and it's child options - does not support multi
select (another component will handle multi select).

<Preview>
  <Story name="Dropdown with PrefixContent">
    {() => {
      const options = [
        { value: 'First', title: 'First Item - Title' },
        { value: 'Second', title: 'Second Item - Title' },
        { value: 'Third', title: 'Third Item - Title', disabled: true }
      ];
      return (
        <FluidContainer>
           <Row>
              <Column>
                <div style={{backgroundColor: '#f3f3f3', padding: '1.2rem', borderRadius: '0.8rem', maxWidth: '64rem', width: '100%', fontWeight: '400', fontSize: '1.6rem', lineHeight: '1.625'}}>
                  <Dropdown
                    id="input-two"
                    options={options}
                    supportingElements
                    label="From currency"
                    bordered={false}
                    required
                    prefixContent="$"
                    bordered={false}
                  />
                  <Dropdown
                    id="input-three"
                    options={options}
                    supportingElements
                    label="From currency"
                    bordered={false}
                    required
                    prefixContent={<img src={fieldValidation} className="w-20" />}
                    bordered={false}
                  />
                </div>
              </Column>
            </Row>
         </FluidContainer>
      );
    }}
  </Story>
</Preview>

## Dropdown with props
<Props of={Dropdown} />

<Story name="dropdown with props" decorators={[withKnobs]} parameters={{ docs: { disable: true } }}>
  {() => {
    const componentPropsId = 'Component Props';
    const tooltipGroupId = 'Tooltip Props';
    const label = text('label', 'Dropdown example', componentPropsId);
    const validationMessage = text('validationMessage', '', componentPropsId);
    const prefillValue = text('prefillValue', '', componentPropsId);
    const bordered = boolean('bordered', true, componentPropsId);
    const disabled = boolean('disabled', false, componentPropsId);
    const required = boolean('required', true, componentPropsId);
    const readOnly = boolean('readOnly', false, componentPropsId);
    const options = [
      object('first option', { value: 'First', title: 'First Item - Title' }, componentPropsId),
      object('second option', { value: 'Second', title: 'Second Item - Title', selected: true }, componentPropsId),
      object('third option', { value: 'Third', title: 'Third Item - Title', disabled: true }, componentPropsId)
    ];
    const title = text('title', 'input tooltip', tooltipGroupId);
    const body = text('body', 'this is a tooltip for the input component', tooltipGroupId);
    const justifyEnd = boolean('justifyEnd', false, tooltipGroupId);
    const screenReaderLabel = text('screenReaderLabel', 'input screenReaderLabel', tooltipGroupId);
    return (
       <FluidContainer>
         <Row>
            <Column>
              <Dropdown
                id="input-one"
                label={label}
                options={options}
                tooltip={{
                  title,
                  body,
                  justifyEnd,
                  screenReaderLabel,
                }}
                validationMessage={validationMessage}
                prefillValue={prefillValue}
                bordered={bordered}
                disabled={disabled}
                required={required}
                readOnly={readOnly}
              />
            </Column>
           </Row>
       </FluidContainer>
    );
  }}
</Story>
