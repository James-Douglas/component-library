import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, boolean, number, object } from '@storybook/addon-knobs';
import Combo from '../../components/Combo/Combo.component.js';
import fakeApiData from './jsonPlaceholder';
import FluidContainer from '../../components/Grid/Container/FluidContainer.component';
import Row from '../../components/Grid/Row/Row.component';
import Column from '../../components/Grid/Column/Column.component';


<Meta title="Components|Combo" component={Combo} />

# Combo

Combo is an extension of the Input component.

<Preview>
  <Story name="combo preview" height="250px">
  {() => {
    const apiData = fakeApiData.map((obj) => obj.title);
    return (
       <FluidContainer>
           <Row>
             <Column>
                <Combo
                  label="Example Combo label"
                  apiData={apiData}
                  id="combo-id-first"
                  value="ser"
                  required={false}
                  renderLimit={3}
                  emptyStatePicture={{
                    src: "https://www.comparethemarket.com.au/wp-content/uploads/2019/08/Artboard-1-copy-2@2x.png",
                    srcsets: [{ srcset: "https://www.comparethemarket.com.au/wp-content/uploads/2019/08/Artboard-1-copy-2@2x.png"}],
                    alt: 'alt text',
                    title: 'no results found',
                  }}
                  tooltip={{ title: 'Combo component' }}
                  emptyStateHeading = "Sorry, no results found"
                  emptyStateChildren='Try adjusting your search to find what you are looking for.'
                  helperMessage='Please enter your address in the field above and we will try locate it.'
                  handleChange={(value) => {
                    // eslint-disable-next-line no-console
                    console.log(value)
                  }}
                  handleInput={(value) => {
                    // eslint-disable-next-line no-console
                    console.log(value)
                  }}
                />
            </Column>
          </Row>
       </FluidContainer>
    );
  }}
  </Story>
</Preview>

<Story name="combo with props" decorators={[withKnobs]} parameters={{ docs: { disable: true } }}>
  {() => {
    const componentPropsId = 'Component Props';
    const tooltipGroupId = 'Tooltip Props';
    const apiData = fakeApiData.map((obj) => obj.title);
    const id = text('id', 'combo-demo', componentPropsId);
    const label = text('label', 'Example Combo', componentPropsId);
    const value = text('value', '', componentPropsId);
    const placeholder = text('placeholder', 'Placeholder', componentPropsId);
    const required = boolean('required', true, componentPropsId);
    const disabled = boolean('disabled', false, componentPropsId);
    const bordered = boolean('bordered', true, componentPropsId);
    const validationMessage = text('validationMessage', '', componentPropsId);
    const prefillValue = text('prefillValue', '', componentPropsId);
    const autoComplete = text('autoComplete', 'off', componentPropsId);
    const prefixContent = text('prefix', '', componentPropsId);
    const suffixContent = text('suffix', '', componentPropsId);
    const renderLimit = number('renderLimit', 10, componentPropsId);
    const characterMinimum = number('characterMinimum', 1, componentPropsId);
    const linkHref = text('linkHref', 'https://www.comparethemarket.com.au/', componentPropsId);
    const linkText = text('linkText', 'Canâ€™t find your address?', componentPropsId)
    const title = text('title', 'input tooltip', tooltipGroupId);
    const body = text('body', 'this is a tooltip for the input component', tooltipGroupId);
    const justifyEnd = boolean('justifyEnd', false, tooltipGroupId);
    const screenReaderLabel = text('screenReaderLabel', 'input screenReaderLabel', tooltipGroupId);
    const helperMessage = text('helperMessage', 'Please start typing', tooltipGroupId);
    return (
      <FluidContainer>
        <Row>
          <Column>
          <div style={{height: '300px'}}></div>
            <Combo
              id={id}
              label={label}
              value={value}
              placeholder={placeholder}
              required={required}
              disabled={disabled}
              bordered={bordered}
              validationMessage={validationMessage}
              prefillValue={prefillValue}
              autoComplete={autoComplete}
              prefixContent={prefixContent}
              suffixContent={suffixContent}
              characterMinimum={characterMinimum}
              renderLimit={renderLimit}
              apiData={apiData}
              linkHref={linkHref}
              linkText={linkText}
              handleChange={(value) => {
                // eslint-disable-next-line no-console
                console.log(value)
              }}
              helperMessage={helperMessage}
              tooltip={{
                title,
                body,
                justifyEnd,
                screenReaderLabel,
              }}
            />
          </Column>
        </Row>
      </FluidContainer>
    );
  }}
</Story>

### Combo props
<Props of={Combo} />
