import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, boolean} from '@storybook/addon-knobs';
import { Button } from '@comparethemarketau/manor-button';
import { ToastNotification, ToastManager } from '@comparethemarketau/manor-notification';
import { Container, Row, Column } from '@comparethemarketau/manor-grid';
import { useToasts } from '@comparethemarketau/manor-provider';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faLongArrowLeft } from '@fortawesome/pro-regular-svg-icons/faLongArrowLeft';
import { faInfoCircle } from '@fortawesome/pro-regular-svg-icons/faInfoCircle';

<Meta title="Components|Notifications/Toast" component={Notification} />

# Toast Notifications

### Installation
`yarn add @comparethemarketau/manor-notification`

### Usage
Import the Notification component and useToasts. Note that `useToasts` is in the manor-provider package,
this is due to ManorProvider injecting a context provider for toast management for you.

```
import { ToastNotification } from '@comparethemarketau/manor-notification';
import { useToasts } from '@comparethemarketau/manor-provider';
```

<Preview>
  <Story name="toast notification">
    {() => {
      const [ demo1, setDemo1 ] = useState(true);
      const { addToast } = useToasts();
      return (
        <div style={{ padding: '2%' }}>
          <Container>
            <div style={{marginTop: '60px', width: '50%'}}>
            <Row>
              <Column xsOffset={6} cols={10}>
                <Button id='general-toast' handleClick={() => {
                  addToast(
                    <ToastNotification
                      variant="general"
                      title="General Toast Message"
                      content="This will auto dismiss in 5 seconds"
                      primaryAction={{
                        content: 'Action goes here',
                        link: '#',
                      }}
                      icon={true}
                      closeButton={true}
                      autoClose={5000}
                    />
                  )
                }}>General Toast - timeout in 5 seconds</Button>
                <Button id='success-toast' handleClick={() => {
                  addToast(
                    <ToastNotification
                      variant="success"
                      title="Success!"
                      content="Great"
                      primaryAction={{
                        content: 'Action goes here' ,
                        link: '#',
                      }}
                      icon={true}
                      closeButton={true}
                    />
                  )
                }}>Success toast - no timeout </Button>
                <Button id='warning-toast' handleClick={() => {
                  addToast(
                    <ToastNotification
                      variant="warning"
                      title="Warning!"
                      content="Something needs your attention"
                      primaryAction={{
                        content: 'Action goes here' ,
                        link: '#',
                      }}
                      icon={true}
                      closeButton={true}
                    />
                  )
                }}>Warning toast - no timeout </Button>
              </Column>
            </Row>
            </div>
          </Container>
        </div>
      );
    }}
  </Story>
</Preview>

### Props
<Props of={ToastNotification} />


