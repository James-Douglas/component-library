import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, boolean, number, select } from '@storybook/addon-knobs';
import { useState } from 'react';
import { Modal } from '@comparethemarketau/manor-modal';
import { Typography } from '@comparethemarketau/manor-typography';
import { Button } from '@comparethemarketau/manor-button';
import { faLightbulb } from '@fortawesome/pro-regular-svg-icons';
import { FluidContainer, Row, Column } from '@comparethemarketau/manor-grid';
import ModalView from './modal.view';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';

<Meta title="Components/Modal" component={Modal} />

# Modal

Renders content in a container on top of the rest of the page content. Modal can be configured with or without an overlay.
Unlike a Drawer, Modals can always be closed by the user.

## Behaviour

* When Modal is visible, the `Escape` key will dismiss it.
* Whe Modal is visible, focus is trapped within the Modals contents.

**Switch to canvas view to see examples**

<Story name="modal" parameters={{ docs: { disable: true } }}>
  {() => {
    const [ visible, setVisible ] = useState(false);
    const [ visibleModal, setVisibleModal ] = useState(false);
    const [ visibleModal2, setVisibleModal2 ] = useState(false);
    const [ visibleModal3, setVisibleModal3 ] = useState(false);
    const [ visibleModal4, setVisibleModal4 ] = useState(false);
    return (
      <div style={{ padding: '2%' }}>
        <FluidContainer>
          <Row>
            <Column xsOffset={4} xs={4} sm={4} md={4} lg={4}>
              <Button id='preview-btn' variant='secondary' handleClick={() => setVisible(!visible)}>Modal preview</Button>
            </Column>
            <Column xsOffset={4} xs={4} sm={4} md={4} lg={4}>
              <Button id='preview-btn2' variant='secondary' handleClick={() => setVisibleModal(!visibleModal)}>Modal preview with actions</Button>
            </Column>
            <Column xsOffset={4} xs={4} sm={4} md={4} lg={4}>
              <Button id='preview-btn3' variant='secondary' handleClick={() => setVisibleModal2(!visibleModal2)}>Modal preview with supplementary bar</Button>
            </Column>
            <Column xsOffset={4} xs={4} sm={4} md={4} lg={4}>
              <Button id='preview-btn4' variant='secondary' handleClick={() => setVisibleModal3(!visibleModal3)}>Modal preview with supplementary bar, long text</Button>
            </Column>
            <Column xsOffset={4} xs={4} sm={4} md={4} lg={4}>
              <Button id='preview-btn5' variant='secondary' handleClick={() => setVisibleModal4(!visibleModal4)}>Modal preview without supplementary bar, long text</Button>
            </Column>
            <Modal id='preview-modal' visible={visible} handleClose={() => {setVisible(false)}} size="sm" overlay handleOverlayClick={() => setVisible(false)} title="Modal title goes here">
              <Typography variant="body1"> It is the percentage of money you borrow for a home loan compared to the value of the property. It is used to assess your risk factor as a borrower; lenders will calculate your LVR before deciding whether or to approve you for a home loan. Home loans which are over 80% LVR are considered high risk. As a result, most lenders will charge extra fees, such as Lenderâ€™s Mortgage Insurance (LMI), in order to protect themselves in case you default.</Typography>
            </Modal>
           <Modal id='preview-modal2' primaryActionTitle={'Primary Button'} secondaryActionTitle={'Secondary Button'} visible={visibleModal} handleClose={() => setVisibleModal(false)} size="sm" overlay handleOverlayClick={() => setVisibleModal(false)}  title="Modal title goes here">
             <div>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
              </div>
            </Modal>
            <Modal id='preview-modal3' primaryActionTitle={'Primary Button'} visible={visibleModal2} handleClose={() => setVisibleModal2(false)} size="sm" overlay handleOverlayClick={() => setVisibleModal2(false)}  title="Modal title goes here" titleIcon={<FontAwesomeIcon icon={faLightbulb}/>} showSupplementaryBar supplementaryBarOptions={ {showRequestCall: true, showChatOnline: true, phoneNumber: '1800 000 000'}}>
             <div>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
              </div>
            </Modal>
            <Modal id='preview-modal4' secondaryActionTitle={'Secondary Button'} visible={visibleModal3} handleClose={() => setVisibleModal3(false)} size="sm" overlay handleOverlayClick={() => setVisibleModal3(false)}  title="Modal title goes here" titleIcon={<FontAwesomeIcon icon={faLightbulb}/>} showSupplementaryBar supplementaryBarOptions={ {showRequestCall: true, showChatOnline: true, phoneNumber: '1800 000 000'}}>
             <div>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
              </div>
            </Modal>
            <Modal id='preview-modal5' secondaryActionTitle={'Secondary Button'} visible={visibleModal4} handleClose={() => setVisibleModal4(false)} size="sm" overlay handleOverlayClick={() => setVisibleModal4(false)}  title="Modal title goes here" titleIcon={<FontAwesomeIcon icon={faLightbulb}/>}>
             <div>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
                <Typography variant="body1"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad.</Typography>
              </div>
            </Modal>
          </Row>
        </FluidContainer>
      </div>
    )
  }}
</Story>

### Props - Modal
<Props of={Modal} />

<Story name="modal with props" decorators={[withKnobs]} parameters={{ docs: { disable: true } }}>
  {() => {
    const id = text('ID');
    const visible = boolean('visible', true);
    const size = select('size', ['sm', 'md', 'lg'], 'sm');
    const className = text('className');
    const componentPropsId = 'Component Props';
    const title = text('Title', 'Modal Title goes here', componentPropsId);
    const primaryActionTitle = text('Primary Action Title', '', componentPropsId);
    return (
      <Modal id={id} visible={visible} className={className} size={size} title={title} primaryActionTitle={primaryActionTitle}>
        <Typography variant="body1">Toggle the visible prop to close</Typography>
        <Typography variant="body1">Inspect the Modal to see the id and additional classes</Typography>
      </Modal>
    )
  }}
</Story>

<Story name="Mock modal" parameters={{ docs: { disable: true } }}>
  <div style={{ padding: '2%' }}>
    <ModalView />
  </div>
</Story>
