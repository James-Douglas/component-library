import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, boolean, number, select } from '@storybook/addon-knobs';
import { Table, TableRow, TableHead, TableFooter, TableCell, TableBody } from '@comparethemarketau/manor-table';
import { Container, FluidContainer, Column, Row } from '@comparethemarketau/manor-grid';
import { Typography } from '@comparethemarketau/manor-typography';
import { Separator } from '@comparethemarketau/manor-separator';

<Meta title="Components/Table" component={Table} />

# Table

Tables are constructed with the following components: `Table`, `TableHead`, `TableBody`, `TableRow`, `TableCell`, `TableFooter`.

<Preview>
  <Story name="table">
    <div style={{ padding: '2%' }}>
      <FluidContainer>
        <Row>
          <Column>
            <div>
              <Table ariaLabel="simple table" size="small" ariaDescribedby="IDREF" className="table-className">
                <TableHead>
                  <TableRow>
                    <TableCell colspan={2}><Typography variant="body1">TableHeader</Typography></TableCell>
                  </TableRow>
                </TableHead>
                <TableBody>
                  <TableRow>
                    <TableCell align="left" component="th"><Typography variant="body1" style={{fontWeight: 700}}>Fees</Typography></TableCell>
                    <TableCell align="left"><Typography variant="body1">$39/year</Typography></TableCell>
                  </TableRow>
                  <TableRow>
                    <TableCell align="left" component="th"><Typography variant="body1" style={{fontWeight: 700}}>Rate</Typography></TableCell>
                    <TableCell align="left"><Typography variant="body1">3.78%</Typography></TableCell>
                  </TableRow>
                </TableBody>
                <TableFooter>
                  <TableRow>
                   <TableCell colspan={2}><Typography variant="body1">TableFooter</Typography></TableCell>
                  </TableRow>
                </TableFooter>
              </Table>
            </div>
         </Column>
        </Row>
      </FluidContainer>
    </div>
  </Story>
</Preview>

### Props - Table

<Props of={Table} />

### Props - TableHead

<Props of={TableHead} />

### Props - TableBody

<Props of={TableBody} />

### Props - TableRow

<Props of={TableRow} />

### Props - TableCell

<Props of={TableCell} />

### Props - TableFooter

<Props of={TableFooter} />

<Story name="table demo" parameters={{ docs: { disable: true } }}>
  {() => {
    const tablesList1 = [
      { title: 'Interest rate 1', value: '12.1%' },
      { title: 'Comparison rate 1', value: '7.54%' },
      { title: 'Min deposit 1', value: '$5,000' },
      { title: 'Max deposit 1', value: '$50,000' },
      {
        title: 'Interest paid 1',
        value: 'Weekly, fortnightly',
      }];
    const tablesList2 = [
      { title: 'Interest rate 2', value: '12.1%' },
      { title: 'Comparison rate 2', value: '7.54%' },
      { title: 'Min deposit 2', value: '$5,000' },
      { title: 'Max deposit 2', value: '$50,000' },
      {
        title: 'Interest paid 2',
        value: 'Weekly, fortnightly',
      }];
    const tablesList3 = [
      { title: 'Interest rate 3', value: '12.1%' },
      { title: 'Comparison rate 3', value: '7.54%' },
      { title: 'Min deposit 3', value: '$5,000' },
      { title: 'Max deposit 3', value: '$50,000' },
      {
        title: 'Interest paid 3',
        value: 'Weekly, fortnightly',
      }];
    const renderItems = (items) => {
      return items.map((item) => (
        <TableRow key={item.title}>
          <TableCell align="left" component="th" padding="none">
            <Typography variant="body1" style={{ fontWeight: 700, margin: '0 0 -1.2rem'}}>{item.title}</Typography>
          </TableCell>
          <TableCell align="left">
            <Typography variant="body1" style={{ margin: '0 0 -1.2rem' }}>{item.value}</Typography>
          </TableCell>
        </TableRow>
      ));
    };
    return (
      <div style={{ padding: '2%' }}>
        <Container>
          <Row className="row-view">
            <Column xs={12} sm={12} md={4} lg={4}>
              <Container padding={['16']}>
                <Row className="row-view">
                  <Column xs={11} sm={11} md={11} lg={11}>
                    <Typography variant="h4">Description</Typography>
                    <Table ariaLabel="simple table" size="small" ariaDescribedby="IDREF" className="table-className">
                      <TableBody>
                        {renderItems(tablesList1)}
                      </TableBody>
                    </Table>
                    <Separator />
                  </Column>
                  <Column xs={1} sm={1} md={1} lg={1} className="items-baseline"><Separator type="vertical" /></Column>
                </Row>
              </Container>
            </Column>
            <Column xs={12} sm={12} md={4} lg={4}>
              <Container padding={['16']}>
                <Row className="row-view">
                  <Column xs={11} sm={11} md={11} lg={11}>
                    <Typography variant="h4">Description</Typography>
                    <Table ariaLabel="simple table" size="small" ariaDescribedby="IDREF" className="table-className">
                      <TableBody>
                        {renderItems(tablesList2)}
                      </TableBody>
                    </Table>
                    <Separator />
                  </Column>
                  <Column xs={1} sm={1} md={1} lg={1} className="items-baseline"><Separator type="vertical" /></Column>
                </Row>
              </Container>
            </Column>
            <Column xs={12} sm={12} md={4} lg={4}>
              <Container padding={['16']}>
                <Row className="row-view">
                  <Column xs={11} sm={11} md={11} lg={11}>
                    <Typography variant="h4">Description</Typography>
                    <Table ariaLabel="simple table" size="small" ariaDescribedby="IDREF" className="table-className">
                      <TableBody>
                        {renderItems(tablesList3)}
                      </TableBody>
                    </Table>
                    <Separator />
                  </Column>
                </Row>
              </Container>
            </Column>
          </Row>
        </Container>
      </div>
    );
  }}
</Story>
