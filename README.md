# Manor component Library
Desigin system component library for CTM - tested on Node v10.17.0

## Usage

### Installation

`yarn add @comparethemarketau/manor`

Import manor css into your app

`import '@comparethemarketau/manor/lib/styles.css';`

Import components as required

```
import Header from '@comparethemarketau/manor/lib/Header'

render = () => (
  <Header />
);
```


## Development
### TLDR;
- `yarn storybook` - runs storybook for development
- `yarn test` - runs the tests
- `yarn lint` - runs the linter
- `yarn build` - runs the build

## Releasing
Releasing is done by Bamboo using the semantic-release package. To trigger a release of the manor library you must merge a feature branch to Master

## Setting up  Private NPM Token
The variable bamboo_nexus_fe_token_password is used to authenticate with Nexus, this can be generated by performing the command `npm adduser --registry=https://nexus.comparethemarket.com.au/repository/platform-packages/` and following the prompts.

Locally this can be exported as an env far and specified in your shell: `export bamboo_nexus_fe_token_password=<YOUR_TOKEN>` where YOUR_TOKEN will look like: `1234567e-89aa-1a23-4567-ab12cd3e4fg5`

## Adding icons

### CTM icons

For icons that have been developed in house, you will need to extract the paths and the viewBox from the .svg file and add them
to `src/components/Icon/icons.js`.

### FontAwesome icons
For FontAwesome icons simply import and export them within `src/components/Icon/icons.js` as per the other examples.

## Whitelabeling
Whitelabeling can be achieved via themes and Manor has been developed with this capability. 

### Adding a theme

Add the theme file in `src/themes` and the export to `src/themes/index`. It's recommended to copy the contents of the CTM
theme file (remember to rename the object) and then override values where necessary.

Update the `getTheme` function (`src/utils/getTheme.js`) - importing your new theme and checking `process.env.MANOR_THEME`
for your theme name.

Finally, so that the theme can be referenced within applications, add an entry for the new theme in the copy() section
of the rollup config, as below:

```
copy({
        targets: [
          { src: 'src/themes/ctm.theme.js', dest: 'lib'},
          { src: 'src/themes/choosi.theme.js', dest: 'lib'}
        ]
      }),
```

### Using a theme

Simply set the `process.env.MANOR_THEME` to your theme name when running your app.
